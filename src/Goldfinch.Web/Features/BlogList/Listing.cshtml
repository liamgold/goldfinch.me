@model Goldfinch.Web.Features.BlogList.BlogListViewModel

@section Schema {
    @if (!string.IsNullOrWhiteSpace(Model.Schema))
    {
        <script type="application/ld+json">
            @Html.Raw(Model.Schema)
        </script>
    }
}

<div class="container mx-auto">
    <h1 class="mb-12">@Model.Title</h1>

    <!-- Blog posts grid layout - responsive design with better proportions -->
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mb-16">
        @foreach (var blogPost in Model.BlogPosts)
        {
            <partial name="PartialViews/BlogPost" model="blogPost" />
        }
    </div>

    <!-- Enhanced pagination with better styling -->
    @if (Model.PageCount > 1)
    {
        <nav class="flex justify-center" aria-label="Blog pagination">
            <div class="flex items-center space-x-1 px-4 py-2 bg-zinc-900/50 rounded-xl border border-zinc-800/50 backdrop-blur-sm">
                @if (!string.IsNullOrWhiteSpace(Model.PreviousUrl))
                {
                    <a href="@Model.PreviousUrl" 
                       rel="prev" 
                       class="flex items-center px-3 py-2 text-sm font-medium text-zinc-300 hover:text-yellow-300 hover:bg-zinc-800/50 rounded-lg transition-all duration-200"
                       aria-label="Go to previous page">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Previous
                    </a>
                }

                <div class="flex space-x-1 mx-2">
                    @for (var index = 1; index <= Model.PageCount; index++)
                    {
                        var isActive = Model.PageIndex == index;
                        var url = index == 1 ? Model.Url : $"{Model.Url}/{index}";

                        @if (isActive)
                        {
                            <span class="flex items-center justify-center w-8 h-8 text-sm font-bold text-zinc-900 bg-yellow-400 rounded-lg"
                                  aria-current="page"
                                  aria-label="Current page @index">
                                @index
                            </span>
                        }
                        else
                        {
                            <a href="@url" 
                               class="flex items-center justify-center w-8 h-8 text-sm font-medium text-zinc-300 hover:text-yellow-300 hover:bg-zinc-800/50 rounded-lg transition-all duration-200"
                               aria-label="Go to page @index">
                                @index
                            </a>
                        }
                    }
                </div>

                @if (!string.IsNullOrWhiteSpace(Model.NextUrl))
                {
                    <a href="@Model.NextUrl" 
                       rel="next" 
                       class="flex items-center px-3 py-2 text-sm font-medium text-zinc-300 hover:text-yellow-300 hover:bg-zinc-800/50 rounded-lg transition-all duration-200"
                       aria-label="Go to next page">
                        Next
                        <svg class="w-4 h-4 ml-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                        </svg>
                    </a>
                }
            </div>
        </nav>
    }
</div>